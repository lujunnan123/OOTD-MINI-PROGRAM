<!-- ootd-popup.wxml -->
<view class="popup-mask {{show ? 'show' : ''}}" bindtap="close"></view>
<view class="popup-container {{show ? 'show' : ''}}">
  <view class="popup-header">
    <view class="popup-title">今日穿搭推荐</view>
    <view class="popup-subtitle">{{weather}} · {{temperature}}°C · {{style}}</view>
  </view>
  
  <ootd-skeleton loading="{{loading}}">
    <view class="popup-content">
      <view class="outfit-image-container">
        <image wx:if="{{outfits.length > 0}}" class="outfit-image" src="{{outfits[currentIndex]}}" mode="aspectFill"></image>
        <view class="image-nav" wx:if="{{outfits.length > 1}}">
          <view class="nav-btn {{currentIndex === 0 ? 'disabled' : ''}}" bindtap="prevImage">◀</view>
          <view class="image-counter">{{currentIndex + 1}}/{{outfits.length}}</view>
          <view class="nav-btn {{currentIndex === outfits.length - 1 ? 'disabled' : ''}}" bindtap="nextImage">▶</view>
        </view>
      </view>
      
      <view class="advice-container">
        <view class="advice-title">搭配建议</view>
        <view class="advice-text">{{advice}}</view>
        
        <view class="tags-container">
          <view wx:for="{{tags}}" wx:key="index" class="tag">{{item}}</view>
        </view>
      </view>
    </view>
  </ootd-skeleton>
  
  <view class="popup-footer">
    <button class="save-btn" bindtap="saveOutfit">保存穿搭</button>
    <button class="close-btn" bindtap="close">关闭</button>
  </view>
</view> 